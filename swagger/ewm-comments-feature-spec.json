{"openapi":"3.0.1","info":{"title":"Explore with me Api","description":"Event discovery platforms","contact":{"name":"Azarkin Vitaliy","url":"https://github.com/Azark1n","email":"v.azarkin@gmail.com"},"version":"1.1"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Public: Подборки событий","description":"Публичный API для работы с подборками событий"},{"name":"Admin: Категории","description":"API для работы с категориями"},{"name":"Private: События","description":"Закрытый API для работы с событиями"},{"name":"Public: Категории","description":"Публичный API для работы с категориями"},{"name":"Admin: События","description":"API для работы с событиями"},{"name":"Public: События","description":"Публичный API для работы с событиями"},{"name":"Private: Запросы на участие","description":"Закрытый API для работы с запросами текущего пользователя на участие в событиях"},{"name":"Actuator","description":"Monitor and interact","externalDocs":{"description":"Spring Boot Actuator Web API Documentation","url":"https://docs.spring.io/spring-boot/docs/current/actuator-api/html/"}},{"name":"Admin: Пользователи","description":"API для работы с пользователями"},{"name":"Admin: Подборки событий","description":"API для работы с подборками событий"},{"name":"Private: Комментарии","description":"Закрытый API для работы с комментариями событий"}],"paths":{"/users/{userId}/requests":{"get":{"tags":["Private: Запросы на участие"],"summary":"Получение информации о заявках текущего пользователя на участие в чужих событиях","operationId":"getParticipationRequestsByUserId","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ParticipationRequestDto"}}}}}}},"post":{"tags":["Private: Запросы на участие"],"summary":"Добавление запроса от текущего пользователя на участие в событии","operationId":"addParticipationRequest","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"query","required":true,"schema":{"minimum":1,"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ParticipationRequestDto"}}}}}}},"/users/{userId}/events":{"get":{"tags":["Private: События"],"summary":"Получение событий, добавленных текущим пользователем","operationId":"getEvents","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"from","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventShortDto"}}}}}}},"post":{"tags":["Private: События"],"summary":"Добавление нового события","operationId":"addEvent","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewEventDto"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}}}}},"/users/{userId}/events/{eventId}/comments":{"post":{"tags":["Private: Комментарии"],"summary":"Добавление нового комментария к событию","description":"Комментировать возможно только опубликованные события. Пользователь не должен быть забанен","operationId":"addComment","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCommentDto"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}}}}},"/users/{userId}/comments/{commentId}/claims":{"post":{"tags":["Private: Комментарии"],"summary":"Добавление жалобы на комментарий","description":"Пожаловаться можно на чужой комментарий, если он не удален и нет бана","operationId":"addClaim","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClaimDto"}}}}}}},"/admin/users":{"get":{"tags":["Admin: Пользователи"],"summary":"Получение информации о пользователях","operationId":"getAll","parameters":[{"name":"ids","in":"query","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}}}}}}},"post":{"tags":["Admin: Пользователи"],"summary":"Добавление нового пользователя","operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/admin/compilations":{"post":{"tags":["Admin: Подборки событий"],"summary":"Добавление новой подборки (подборка может не содержать событий)","operationId":"create_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCompilationDto"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompilationDto"}}}}}}},"/admin/categories":{"post":{"tags":["Admin: Категории"],"summary":"Добавление новой категории","operationId":"create_2","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCategoryDto"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}}}},"/users/{userId}/requests/{requestId}/cancel":{"patch":{"tags":["Private: Запросы на участие"],"summary":"Отмена своего запроса на участие в событии","operationId":"cancelParticipationRequest","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"requestId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ParticipationRequestDto"}}}}}}},"/users/{userId}/events/{eventId}":{"get":{"tags":["Private: События"],"summary":"Получение полной информации о событии добавленном текущим пользователем","operationId":"getEventById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"from","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}}}},"patch":{"tags":["Private: События"],"summary":"Изменение события добавленного текущим пользователем","operationId":"patchEvent","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEventUserRequestDto"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}}}}},"/users/{userId}/events/{eventId}/requests":{"get":{"tags":["Private: Запросы на участие"],"summary":"Получение информации о запросах на участие в событии текущего пользователя","operationId":"getEventParticipationRequests","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ParticipationRequestDto"}}}}}}},"patch":{"tags":["Private: Запросы на участие"],"summary":"Изменение статуса (подтверждена, отменена) заявок на участие в событии текущего пользователя","operationId":"setStatusForGroup","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventRequestStatusUpdateRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventRequestStatusUpdateResult"}}}}}}},"/users/{userId}/comments/{commentId}":{"patch":{"tags":["Private: Комментарии"],"summary":"Редактирование комментария к событию","description":"Редактирование возможно его автором, при следующих условиях:\n* в течение 10 минут с момента создания\n* не добавлен следующий комментарий\n* на комментарий не пожаловались","operationId":"patchComment","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCommentDto"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}}}}},"/admin/events/{eventId}":{"patch":{"tags":["Admin: События"],"summary":"Редактирование данных события и его статуса (отклонение/публикация)","operationId":"patchEvent_1","parameters":[{"name":"eventId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEventAdminRequestDto"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}}}}},"/admin/compilations/{compId}":{"delete":{"tags":["Admin: Подборки событий"],"summary":"Удаление подборки","operationId":"deleteById_1","parameters":[{"name":"compId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"204":{"description":"No Content"}}},"patch":{"tags":["Admin: Подборки событий"],"summary":"Обновить информацию о подборке","operationId":"patch","parameters":[{"name":"compId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompilationRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompilationDto"}}}}}}},"/admin/claims/{claimId}":{"patch":{"tags":["Admin: Комментарии"],"summary":"Изменение статуса жалобы","description":"Возможен перевод в следующие статусы: APPROVED, REJECTED","operationId":"patchClaim","parameters":[{"name":"claimId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"claimState","in":"query","required":true,"schema":{"type":"string","enum":["PENDING","APPROVED","REJECTED"]}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClaimDto"}}}}}}},"/admin/categories/{catId}":{"delete":{"tags":["Admin: Категории"],"summary":"Удаление категории","operationId":"deleteById_2","parameters":[{"name":"catId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"204":{"description":"No Content"}}},"patch":{"tags":["Admin: Категории"],"summary":"Изменение категории","operationId":"patch_1","parameters":[{"name":"catId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}}}},"/events":{"get":{"tags":["Public: События"],"summary":"Получение событий с возможностью фильтрации","operationId":"getEvents_1","parameters":[{"name":"text","in":"query","required":false,"schema":{"type":"string"}},{"name":"categories","in":"query","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int32"}}},{"name":"paid","in":"query","required":false,"schema":{"type":"boolean"}},{"name":"rangeStart","in":"query","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"rangeEnd","in":"query","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"onlyAvailable","in":"query","required":false,"schema":{"type":"boolean","default":false}},{"name":"sort","in":"query","required":false,"schema":{"type":"string","enum":["EVENT_DATE","VIEWS"]}},{"name":"from","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventShortDto"}}}}}}}},"/events/{id}":{"get":{"tags":["Public: События"],"summary":"Получение подробной информации об опубликованном событии по его идентификатору","operationId":"getEvent","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}}}}},"/events/{eventId}/comments":{"get":{"tags":["Public: Комментарии"],"summary":"Получение списка комментариев с пагинацией для определенного события","operationId":"getComments","parameters":[{"name":"eventId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"maximum":50,"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentDto"}}}}}}}},"/compilations":{"get":{"tags":["Public: Подборки событий"],"summary":"Получение подборок событий","description":"В случае, если по заданным фильтрам не найдено ни одной подборки, возвращает пустой список","operationId":"getCompilations","parameters":[{"name":"pinned","in":"query","required":false,"schema":{"type":"boolean"}},{"name":"from","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CompilationDto"}}}}}}}},"/compilations/{compId}":{"get":{"tags":["Public: Подборки событий"],"summary":"Получение подборки событий по его id","operationId":"getCompilation","parameters":[{"name":"compId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompilationDto"}}}}}}},"/categories":{"get":{"tags":["Public: Категории"],"summary":"Получение категорий","operationId":"getCategories","parameters":[{"name":"from","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDto"}}}}}}}},"/categories/{catId}":{"get":{"tags":["Public: Категории"],"summary":"Получение информации о категории по её идентификатору","operationId":"getCategories_1","parameters":[{"name":"catId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}}}},"/admin/events":{"get":{"tags":["Admin: События"],"summary":"Поиск событий","operationId":"getEvents_2","parameters":[{"name":"users","in":"query","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"states","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","enum":["CANCELED","PENDING","PUBLISHED","REJECTED"]}}},{"name":"categories","in":"query","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int32"}}},{"name":"rangeStart","in":"query","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"rangeEnd","in":"query","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"from","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventFullDto"}}}}}}}},"/admin/events/{eventId}/comments":{"get":{"tags":["Admin: Комментарии"],"summary":"Получение списка комментариев по событию с возможностью просмотра удаленных","operationId":"getAdminComments","parameters":[{"name":"eventId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"withDeleted","in":"query","required":false,"schema":{"type":"boolean","default":false}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"maximum":50,"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentDto"}}}}}}}},"/admin/claims":{"get":{"tags":["Admin: Комментарии"],"summary":"Получение списка жалоб","description":"В случае указания eventId - отбор будет производиться по указанному событию.\nПараметр onlyPending - отвечает за отбор по статусу (выводить все или только нуждающиеся в обработке)","operationId":"getAdminClaims","parameters":[{"name":"eventId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"onlyPending","in":"query","required":false,"schema":{"type":"boolean","default":true}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"maximum":50,"type":"integer","format":"int32","default":10}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClaimDto"}}}}}}}},"/actuator":{"get":{"tags":["Actuator"],"summary":"Actuator root web endpoint","operationId":"links","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}},"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}}}}}}},"/actuator/health":{"get":{"tags":["Actuator"],"summary":"Actuator web endpoint 'health'","operationId":"health","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/actuator/health/**":{"get":{"tags":["Actuator"],"summary":"Actuator web endpoint 'health-path'","operationId":"health-path","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/admin/users/{userId}":{"delete":{"tags":["Admin: Пользователи"],"summary":"Удаление пользователя","operationId":"deleteById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"204":{"description":"No Content"}}}},"/admin/comments":{"delete":{"tags":["Admin: Комментарии"],"summary":"Удаление всех комментариев события от определенного пользователя","operationId":"deleteComments","parameters":[{"name":"eventId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentDto"}}}}}}}},"/admin/comments/{commentId}":{"delete":{"tags":["Admin: Комментарии"],"summary":"Удаление комментария","operationId":"deleteComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"204":{"description":"No Content"}}}}},"components":{"schemas":{"ApiError":{"type":"object","properties":{"message":{"type":"string"},"reason":{"type":"string"},"status":{"type":"string"},"timestamp":{"type":"string","format":"date-time"},"errors":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}}}},"ParticipationRequestDto":{"required":["created","requester","status"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"requester":{"minimum":1,"type":"integer","format":"int64"},"event":{"type":"integer","format":"int64"},"created":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["PENDING","CONFIRMED","CANCELED","REJECTED"]}}},"LocationDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"lat":{"type":"number","format":"float"},"lon":{"type":"number","format":"float"}}},"NewEventDto":{"required":["annotation","category","description","eventDate","location","title"],"type":"object","properties":{"annotation":{"type":"string"},"category":{"type":"integer","format":"int64"},"description":{"type":"string"},"eventDate":{"type":"string","format":"date-time"},"location":{"$ref":"#/components/schemas/LocationDto"},"paid":{"type":"boolean"},"participantLimit":{"type":"integer","format":"int32"},"requestModeration":{"type":"boolean"},"title":{"type":"string"}}},"CategoryDto":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"EventFullDto":{"required":["annotation","category","description","initiator","location","paid","requestModeration","state","title"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"annotation":{"type":"string"},"category":{"$ref":"#/components/schemas/CategoryDto"},"confirmedRequests":{"type":"integer","format":"int64"},"createdOn":{"type":"string","format":"date-time"},"description":{"type":"string"},"eventDate":{"type":"string","format":"date-time"},"initiator":{"$ref":"#/components/schemas/UserShortDto"},"location":{"$ref":"#/components/schemas/LocationDto"},"paid":{"type":"boolean"},"participantLimit":{"type":"integer","format":"int32"},"publishedOn":{"type":"string","format":"date-time"},"requestModeration":{"type":"boolean"},"state":{"type":"string","enum":["CANCELED","PENDING","PUBLISHED","REJECTED"]},"title":{"type":"string"},"views":{"type":"integer","format":"int64"}}},"UserShortDto":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"NewCommentDto":{"required":["text"],"type":"object","properties":{"text":{"type":"string"}}},"CommentDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"text":{"type":"string"},"author":{"$ref":"#/components/schemas/UserDto"},"eventId":{"type":"integer","format":"int64"},"createdOn":{"type":"string","format":"date-time"},"editedOn":{"type":"string","format":"date-time"},"deletedOn":{"type":"string","format":"date-time"},"claimCount":{"type":"integer","format":"int32"}}},"UserDto":{"required":["email","name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"name":{"type":"string"},"banned":{"type":"boolean"}}},"ClaimDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"author":{"$ref":"#/components/schemas/UserDto"},"commentId":{"type":"integer","format":"int64"},"state":{"type":"string","enum":["PENDING","APPROVED","REJECTED"]},"createdOn":{"type":"string","format":"date-time"},"allowedOn":{"type":"string","format":"date-time"}}},"NewUserRequest":{"required":["email","name"],"type":"object","properties":{"email":{"type":"string"},"name":{"type":"string"},"banned":{"type":"boolean"}}},"NewCompilationDto":{"required":["title"],"type":"object","properties":{"title":{"type":"string"},"pinned":{"type":"boolean"},"events":{"type":"array","items":{"type":"integer","format":"int64"}}}},"CompilationDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"pinned":{"type":"boolean"},"events":{"type":"array","items":{"$ref":"#/components/schemas/EventShortDto"}}}},"EventShortDto":{"required":["annotation","category","initiator","paid","title"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"annotation":{"type":"string"},"category":{"$ref":"#/components/schemas/CategoryDto"},"confirmedRequests":{"type":"integer","format":"int64"},"eventDate":{"type":"string","format":"date-time"},"initiator":{"$ref":"#/components/schemas/UserShortDto"},"paid":{"type":"boolean"},"title":{"type":"string"},"views":{"type":"integer","format":"int64"}}},"NewCategoryDto":{"required":["name"],"type":"object","properties":{"name":{"type":"string"}}},"UpdateEventUserRequestDto":{"type":"object","properties":{"annotation":{"type":"string"},"category":{"type":"integer","format":"int64"},"description":{"type":"string"},"eventDate":{"type":"string","format":"date-time"},"location":{"$ref":"#/components/schemas/LocationDto"},"paid":{"type":"boolean"},"participantLimit":{"type":"integer","format":"int32"},"requestModeration":{"type":"boolean"},"stateAction":{"type":"string","enum":["SEND_TO_REVIEW","CANCEL_REVIEW"]},"title":{"type":"string"}}},"EventRequestStatusUpdateRequest":{"required":["requestIds","status"],"type":"object","properties":{"requestIds":{"type":"array","items":{"type":"integer","format":"int64"}},"status":{"type":"string","enum":["CONFIRMED","REJECTED"]}}},"EventRequestStatusUpdateResult":{"type":"object","properties":{"confirmedRequests":{"type":"array","items":{"$ref":"#/components/schemas/ParticipationRequestDto"}},"rejectedRequests":{"type":"array","items":{"$ref":"#/components/schemas/ParticipationRequestDto"}}}},"UpdateEventAdminRequestDto":{"type":"object","properties":{"annotation":{"type":"string"},"category":{"type":"integer","format":"int64"},"description":{"type":"string"},"eventDate":{"type":"string","format":"date-time"},"location":{"$ref":"#/components/schemas/LocationDto"},"paid":{"type":"boolean"},"participantLimit":{"type":"integer","format":"int32"},"requestModeration":{"type":"boolean"},"stateAction":{"type":"string","enum":["PUBLISH_EVENT","REJECT_EVENT"]},"title":{"type":"string"}}},"UpdateCompilationRequest":{"type":"object","properties":{"title":{"type":"string"},"pinned":{"type":"boolean"},"events":{"type":"array","items":{"type":"integer","format":"int64"}}}},"Link":{"type":"object","properties":{"href":{"type":"string"},"templated":{"type":"boolean"}}}}}}